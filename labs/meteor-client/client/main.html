<template name="main">
   <head>
      <title>Demo</title>
   </head>
   <body>
      <div id="main" class="row-fluid">
         {{#if getInSession "display_usersList"}}
            {{> usersList}}
         {{/if}}
         {{#if getInSession "display_chat"}}
            {{> chatbar}}
         {{/if}}
         {{#if getInSession "display_whiteboard"}}
            {{> whiteboard}}
         {{/if}}
      </div>
   </body>
</template>

<template name="header">
   {{#if getInSession "display_navbar"}}
      <div class="navbar navbar-default navbar-static-top" role="navigation">
         {{#with getCurrentUser}}
            {{#if getInSession "display_usersList"}}
               <button type="submit" id="{{user.externUserId}}" class="navbarIconToggleActive usersListIcon navbar-brand btn"><i class="glyphicon glyphicon-user"></i></button>
            {{else}}
               <button type="submit" id="{{user.externUserId}}" class="usersListIcon navbar-brand btn"><i class="glyphicon glyphicon-user"></i></button>
            {{/if}}
            
            {{#if getInSession "display_chat"}}
               <button type="submit" id="{{user.externUserId}}" class="navbarIconToggleActive chatBarIcon navbar-brand btn"> <i class="glyphicon glyphicon-comment"></i> <!-- Chat --></button>
            {{else}}
               <button type="submit" id="{{user.externUserId}}" class="chatBarIcon navbar-brand btn"> <i class="glyphicon glyphicon-comment"></i> <!-- Chat --></button>
            {{/if}}

            {{#if user.sharingVideo}}
               <button type="submit" id="{{user.externUserId}}" class="navbarIconToggleActive videoFeedIcon navbar-brand btn">
               <i class="glyphicon glyphicon-facetime-video"></i> <!-- Video Feed --></button>
            {{else}}
               <button type="submit" id="{{user.externUserId}}" class="videoFeedIcon navbar-brand btn">
               <i class="glyphicon glyphicon-stop"></i> <!-- Video Feed --></button>
            {{/if}}

            {{#if user.sharingAudio}}
               <button type="submit" id="{{user.externUserId}}" class="navbarIconToggleActive audioFeedIcon navbar-brand btn"> <i class="glyphicon glyphicon-volume-up"></i> <!-- Chat --></button>
            {{else}}
               <button type="submit" id="{{user.externUserId}}" class="audioFeedIcon navbar-brand btn"> <i class="glyphicon glyphicon-volume-off"></i> <!-- Chat --></button>
            {{/if}}

            <button type="submit" id="" class="hideNavbarIcon navbar-brand pull-right btn">
               <i class="glyphicon glyphicon-chevron-up"></i> <!-- Hide Navbar -->
            </button>
            <button type="submit" id="{{user.externUserId}}" class="signOutIcon navbar-brand pull-right btn">
               <i class="glyphicon glyphicon-log-out"></i> <!-- Sign Out -->
            </button>
            <button type="submit" id="" class="settingsIcon navbar-brand pull-right btn">
               <i class="glyphicon glyphicon-cog"></i> <!-- Settings -->
            </button>
         {{/with}}
      </div>
   {{else}}
      <!-- User wants to hide navbar. The button for bringing the navbar back needs to still be available.
      Perhaps it should appear/disappear in the future on hover? Something to add later. -->
      <button type="submit" id="" class="hideNavbarIcon navbar-brand pull-right btn">
         <i class="glyphicon glyphicon-chevron-down"></i>
      </button>
   {{/if}}
</template>