<template name="userItem">
  {{>usernameEntry}}
  {{> handRaiseStatus}}
  {{> displayOwnControls}}
  {{> displayStandardUserControls}}
</template>

<!-- ####################################################################################### -->
<template name="usernameEntry"> <!-- A template now because more information be added/styled -->
  <td><span>
    {{#if isCurrentUser userId}}
      <strong>{{user.name}} (you)</strong>
    {{else}}
      {{user.name}}
    {{/if}}
  </span></td>
</template>
<!-- ####################################################################################### -->
<template name="handRaiseStatus">
  <td>
  {{#if user.handRaised}}
      {{> makeButton id=user.externUserId btn_class="raiseHand btn btn-default" i_class="hand-up" _id=_id isDisabled="disabled"}}
  <!-- {{else}}
      {{> makeButton id=user.externUserId btn_class="raiseHand btn btn-default" i_class="hand-up" _id=_id}} -->
  {{/if}}
  </td>
</template>
<!-- ####################################################################################### -->
<template name="displayStandardUserControls">
  <td>
  {{#if user.presenter}}
    {{> makeButton id=user.externUserId btn_class="setPresenter btn btn-primary" i_class="picture" _id=_id isDisabled="disabled" isPresenter=true}}
  {{else}}
    {{> makeButton id=user.externUserId btn_class="setPresenter btn btn-primary" i_class="picture" _id=_id isPresenter=false rel="tooltip" data_placement="top" title="Set Presenter"}}
  {{/if}}
  </td>
  <td>{{> makeButton id=userId btn_class="kickUser btn btn-primary" i_class="remove-circle" _id=_id rel="tooltip" data_placement="right" title="Kick User"}}</td>
</template>
<!-- ####################################################################################### -->

<template name="displayOwnControls">
    <!-- toggles for own user's mic and cam-->
    <td>
    {{#if isUserSharingVideo user}}
        {{> makeButton id=user.externUserId btn_class="disableCam btn btn-default" i_class="facetime-video" _id=_id isDisabled="disabled"}}
    {{else}}
        {{> makeButton id=user.externUserId btn_class="enableCam btn btn-default" i_class="stop" _id=_id isDisabled="disabled"}}
    {{/if}}
    </td>

    <!-- Should use much more noticeable icons than just bootstrap's volume-up & volume-down to differentiate talking but it is good for now -->
    <td>
    {{#if isUserSharingAudio user}}
        {{#if isUserTalking user}}
            {{> makeButton id=user.externUserId btn_class="btn btn-default" i_class="volume-up" sharingAudio=true _id=_id isDisabled="disabled"}}
        {{else}}
            {{> makeButton id=user.externUserId btn_class="btn btn-default" i_class="volume-down" sharingAudio=true _id=_id isDisabled="disabled"}}
        {{/if}}
    {{else}}
        {{> makeButton id=user.externUserId btn_class="btn btn-default" i_class="volume-off" sharingAudio=false _id=_id isDisabled="disabled"}}
    {{/if}}
    </td>
</template>
